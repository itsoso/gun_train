# 智能枪械训练监控系统

## 项目概述

本系统是一个基于AI视觉识别的枪械训练智能监控平台，旨在解决公安系统枪械训练中的安全隐患和训练效率问题。

## 核心问题分析

### 当前痛点
1. **训练机会少**：每人每年理论100发弹药，实际只有约10发
2. **安全风险高**：射击卡壳等操作失误容易造成危险
3. **教官压力大**：一个教官难以同时监督多名学员
4. **训练效果差**：缺少规范化训练流程，难以形成肌肉记忆
5. **反馈不及时**：教官无法实时发现所有学员的问题

## 解决方案

### 核心理念
**"先空枪练习，AI纠错，形成肌肉记忆，再实弹射击"**

### 技术架构

```
┌─────────────────────────────────────────────────────────┐
│                    前端展示层                              │
│  教官监控台 | 学员训练终端 | 领导统计看板                    │
└─────────────────────────────────────────────────────────┘
                          ↓↑
┌─────────────────────────────────────────────────────────┐
│                    应用服务层                              │
│  训练流程管理 | 实时反馈 | 数据统计 | 报告生成              │
└─────────────────────────────────────────────────────────┘
                          ↓↑
┌─────────────────────────────────────────────────────────┐
│                   AI识别引擎层                             │
│  姿态识别 | 动作序列分析 | 规范性判定 | 危险预警            │
└─────────────────────────────────────────────────────────┘
                          ↓↑
┌─────────────────────────────────────────────────────────┐
│                   视频采集层                               │
│  多路摄像头 | 视频流处理 | 图像预处理                       │
└─────────────────────────────────────────────────────────┘
```

### 训练流程设计

#### 第一阶段：空枪规范化训练
1. **领枪环节**
   - AI识别：验证工位、学员身份
   - 检查：确认枪支为空枪（无弹药）

2. **基础动作训练**（持枪姿势、瞄准、扳机控制）
   - 摄像头实时捕捉学员动作
   - AI分析动作规范性
   - 语音/屏幕实时反馈问题
   - 重复练习直至达标

3. **连贯动作训练**（出枪、瞄准、射击全流程）
   - AI评估动作流畅度
   - 记录训练数据
   - 生成个人训练报告

4. **考核关卡**
   - 连续5次标准动作才能进入下一阶段
   - 防止未掌握规范就进入实弹训练

#### 第二阶段：实弹射击训练
1. **领弹环节**
   - 验证学员已通过空枪训练考核
   - 严格登记弹药数量

2. **实弹射击**
   - 继续AI监控，确保规范操作
   - 自动识别危险动作并预警
   - 记录射击成绩和动作质量

3. **数据统计**
   - 命中率、动作规范度综合评分
   - 生成训练档案

## 核心功能模块

### 1. AI视觉识别模块
- **姿态识别**：基于OpenPose/MediaPipe识别人体关键点
- **动作序列分析**：判断持枪、瞄准、扳机等动作是否规范
- **规范性判定**：
  - 持枪角度是否正确
  - 手指位置（扳机纪律）
  - 身体姿态稳定性
  - 瞄准线是否正确
- **危险预警**：
  - 枪口指向不安全方向
  - 手指过早接触扳机
  - 姿势不稳可能导致失控

### 2. 多工位管理
- 支持50个工位同时训练
- 每个工位2-3个摄像头（正面、侧面、俯视）
- 教官端可同时监控所有工位
- 异常情况自动高亮提醒

### 3. 实时反馈系统
- **学员端**：
  - 屏幕显示：当前动作评分、错误提示
  - 语音播报：实时纠错指导
  - 示范视频：标准动作对比
- **教官端**：
  - 多画面监控
  - 问题学员自动标注
  - 一键查看学员历史记录

### 4. 训练数据管理
- 个人训练档案
- 动作规范度趋势分析
- 训练时长统计
- 空枪/实弹训练记录
- 弹药使用统计

### 5. 智能报告生成
- 个人训练报告
- 班级训练统计
- 教官工作量统计
- 安全事件分析

## 技术栈

### 后端
- **语言**：Python 3.9+
- **框架**：FastAPI（高性能异步Web框架）
- **AI模型**：
  - MediaPipe/OpenPose（姿态识别）
  - YOLO（目标检测）
  - 自定义深度学习模型（动作规范性判定）
- **视频处理**：OpenCV、FFmpeg
- **数据库**：PostgreSQL（关系数据）+ MongoDB（视频片段）
- **消息队列**：Redis + Celery（异步任务处理）

### 前端
- **框架**：Vue.js 3 + Element Plus
- **实时通信**：WebSocket
- **视频播放**：Video.js
- **数据可视化**：ECharts

### 硬件
- **摄像头**：1080P工业摄像头，支持RTSP协议
- **服务器**：GPU服务器（NVIDIA Tesla T4或更高）
- **显示终端**：学员工位显示屏、教官监控大屏

## 项目优势

### 1. 解决训练少的问题
- 空枪训练无弹药成本，可以大量练习
- AI代替部分教官工作，降低人力成本
- 学员可以自主训练，提高训练频次

### 2. 提升训练安全性
- AI实时监控，危险动作立即预警
- 空枪阶段充分练习，减少实弹时的失误
- 所有操作有记录，可追溯

### 3. 提高训练效果
- 实时反馈，即时纠错
- 重复练习形成肌肉记忆
- 个性化训练建议

### 4. 减轻教官压力
- AI辅助监控50个工位
- 自动生成训练报告
- 重点关注问题学员

### 5. 数据化管理
- 训练数据可视化
- 科学评估训练效果
- 辅助决策支持

## 实施路径

### 第一期：核心功能（3个月）
- [ ] AI姿态识别模型训练
- [ ] 基础监控系统开发
- [ ] 1-5个工位试点

### 第二期：规模化部署（3个月）
- [ ] 50工位全面部署
- [ ] 完善反馈系统
- [ ] 教官培训

### 第三期：优化升级（持续）
- [ ] 模型优化
- [ ] 功能迭代
- [ ] 数据分析深化

## 预期效果

1. **训练量提升**：从每年10发增加到100+次空枪练习 + 10发实弹
2. **安全性提升**：减少90%以上的危险操作
3. **成绩提升**：命中率提高30%以上
4. **效率提升**：教官可同时监督50人，效率提升10倍

## 项目结构

```
gun_train/
├── backend/                 # 后端服务
│   ├── api/                # API接口
│   ├── ai/                 # AI模型
│   ├── core/               # 核心业务逻辑
│   ├── db/                 # 数据库模型
│   └── utils/              # 工具函数
├── frontend/               # 前端应用
│   ├── admin/             # 教官端
│   ├── student/           # 学员端
│   └── leader/            # 领导端
├── models/                 # AI训练模型
├── data/                   # 训练数据
├── docs/                   # 项目文档
└── scripts/                # 部署脚本
```

## 开始使用

详细开发指南请参考各模块的README文件。

